(this["webpackJsonphicetnunc-radio-component"]=this["webpackJsonphicetnunc-radio-component"]||[]).push([[0],{1:function(t,e,n){t.exports={radioPlayerContainer:"styles_radioPlayerContainer__3Horj",button:"styles_button__3th1c",controlsHolder:"styles_controlsHolder__2gjvX",button_playerControl:"styles_button_playerControl__2KtO8",button_play:"styles_button_play__GBedQ",button_pause:"styles_button_pause__1fGZn",button_playerControl_small:"styles_button_playerControl_small__130O1",button_play_small:"styles_button_play_small__N9WOZ",button_pause_small:"styles_button_pause_small__1QbIX",button_mute:"styles_button_mute__yXzO2",button_unmute:"styles_button_unmute__5ZwWL",playerBar:"styles_playerBar__37usV",currentTrack:"styles_currentTrack__15ITo",nextPrevControls:"styles_nextPrevControls__2NA59",button_nextTrack:"styles_button_nextTrack__2bf74",button_prevTrack:"styles_button_prevTrack__2VKvK",trackRow:"styles_trackRow__N5sUo",trackRow_name:"styles_trackRow_name__3Dib1",radioRange:"styles_radioRange__3O94Q"}},24:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var c,a=n(2),r=n.n(a),o=n(18),u=n.n(o),s=(n(24),n(9)),l=n.n(s),i=n(19),b=n(5),j=n(6),_=n.n(j),d=n(20),m=n.n(d),O=function(t){return m.a.get("".concat("https://51rknuvw76.execute-api.us-east-1.amazonaws.com/dev","/tz?tz=").concat(t))},f=n(3),y=n(1),x=n.n(y),p=n(8),h=n(0),v=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[Object(h.jsx)("title",{children:"Unmute"}),Object(h.jsx)("path",{fill:"currentColor",d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"})]})},g=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:[Object(h.jsx)("title",{children:"Mute"}),Object(h.jsx)("path",{fill:"currentColor",d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"})]})},C=function(t){var e=t.isMuted,n=t.handleMute,c=t.handleUnmute;return Object(h.jsx)(h.Fragment,{children:e?Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_unmute," ").concat(x.a.button_playerControl),onClick:c,children:Object(h.jsx)(v,{})}):Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_mute," ").concat(x.a.button_playerControl),onClick:n,children:Object(h.jsx)(g,{})})})},k=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:[Object(h.jsx)("title",{children:"Pause"}),Object(h.jsx)("path",{fill:"currentColor",d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"})]})},w=function(){return Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:[Object(h.jsx)("title",{children:"Play"}),Object(h.jsx)("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"})]})},T=function(t){var e=t.isPlaying,n=t.handlePlay,c=t.handlePause;return Object(a.useEffect)((function(){console.log("isPlaying",e)}),[e]),Object(h.jsx)(h.Fragment,{children:e?Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_play," ").concat(x.a.button_playerControl),onClick:c,children:Object(h.jsx)(k,{})}):Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_pause," ").concat(x.a.button_playerControl),onClick:n,children:Object(h.jsx)(w,{})})})},P=function(t){var e=t.audioObjkts,n=Object(a.useState)({audioContext:null,source:null,gain:null,analyser:null,bufferLength:null,dataArray:null}),r=Object(b.a)(n,2),o=r[0],u=r[1],s=Object(a.useState)({playing:!1,currentTrackKey:0,isPlaying:!1,isMuted:!1,volume:.5}),l=Object(b.a)(s,2),i=l[0],j=l[1],_=Object(a.useState)(null),d=Object(b.a)(_,2),m=d[0],O=d[1],y=Object(p.createRef)();Object(a.useEffect)((function(){console.log(e),O(e.map((function(t){return{name:t.token_info.name,src:"https://cloudflare-ipfs.com/ipfs/".concat(t.token_info.artifactUri.slice(7)),mimeType:t.token_info.formats[0].mimeType}})))}),[e]),Object(a.useEffect)((function(){(null===m||void 0===m?void 0:m.length)&&y.current&&(y.current.src||(y.current.crossOrigin="anonymous",y.current.src=m[0].src,y.current.volume=i.volume,y.current.mimeType=m[0].mimeType))}),[o,m]),Object(a.useEffect)((function(){if(y.current&&!o.audioContext){var t=new AudioContext,e=t.createMediaElementSource(y.current),n=t.createGain(),c=t.createAnalyser();c.connect(t.destination),e.connect(c),e.connect(n),c.fftSize=64;var a=c.frequencyBinCount,r=new Float32Array(a);u({audioContext:t,source:e,gain:n,analyser:c,bufferLength:a,dataArray:r})}}),[y]);var v=function t(){var e=o.audioContext.getOutputTimestamp();console.log("Context time: "+e.contextTime+" | Performance time: "+e.performanceTime),c=requestAnimationFrame(t)},g=function(){y.current&&(y.current.pause(),j((function(t){return Object(f.a)(Object(f.a)({},t),{},{isPlaying:!1})})),cancelAnimationFrame(c))};if(!m)return Object(h.jsx)("p",{children:"Loading..."});var P=function(t){return function(){y.current.src=m[t].src,o.audioContext.resume(),y.current.play(),c=requestAnimationFrame(v),j((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentTrackKey:t,isPlaying:!0})}))}},N=function(t){return i.isPlaying&&i.currentTrackKey===t};return Object(h.jsxs)("div",{className:x.a.radioPlayerContainer,children:[Object(h.jsx)("audio",{ref:y}),Object(h.jsx)("div",{className:x.a.playerBar,children:Object(h.jsxs)("div",{className:x.a.controlsHolder,children:[Object(h.jsx)(T,{isPlaying:i.isPlaying,handlePlay:function(){y.current&&(o.audioContext.resume(),y.current.play(),c=requestAnimationFrame(v),j((function(t){return Object(f.a)(Object(f.a)({},t),{},{isPlaying:!0})})))},handlePause:g}),Object(h.jsx)("input",{className:x.a.radioRange,title:"volume",type:"range",value:i.volume,min:"0",max:"1",step:"0.01",onChange:function(t){if(y.current){var e=t.target.value;y.current.volume=e,j((function(t){return Object(f.a)(Object(f.a)({},t),{},{volume:e})}))}}}),Object(h.jsx)(C,{isMuted:i.isMuted,handleMute:function(){y.current&&(y.current.volume=0,j((function(t){return Object(f.a)(Object(f.a)({},t),{},{isMuted:!0})})))},handleUnmute:function(){y.current&&(y.current.volume=i.volume,j((function(t){return Object(f.a)(Object(f.a)({},t),{},{isMuted:!1})})))}})]})}),Object(h.jsxs)("div",{className:x.a.nextPrevControls,children:[Object(h.jsx)("button",{className:x.a.button_prevTrack,onClick:function(){var t=i.currentTrackKey-1;t<0&&(t=m.length-1),y.current.src=m[t].src,i.isPlaying&&(o.audioContext.resume(),y.current.play()),j((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentTrackKey:t})}))},children:"Prev"}),Object(h.jsx)("button",{className:x.a.button_nextTrack,onClick:function(){var t=(i.currentTrackKey+1)%m.length;y.current.src=m[t].src,i.isPlaying&&(o.audioContext.resume(),y.current.play()),j((function(e){return Object(f.a)(Object(f.a)({},e),{},{currentTrackKey:t})}))},children:"Next"}),Object(h.jsx)("div",{className:x.a.currentTrack,children:m[i.currentTrackKey].name})]}),Object(h.jsx)("div",{children:m.map((function(t,e){return Object(h.jsxs)("div",{className:x.a.trackRow,children:[N(e)?Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_pause_small," ").concat(x.a.button_playerControl_small),onClick:g,children:Object(h.jsx)(k,{})}):Object(h.jsx)("button",{className:"".concat(x.a.button," ").concat(x.a.button_play_small," ").concat(x.a.button_playerControl_small),onClick:P(e),children:Object(h.jsx)(w,{})}),Object(h.jsx)("span",{className:x.a.trackRow_name,children:t.name})]})}))})]})},N=["audio/ogg","audio/mpeg","audio/wav"],M=function(){var t=Object(a.useState)(null),e=Object(b.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(""),o=Object(b.a)(r,2),u=o[0],s=o[1],j=Object(a.useState)("tz2R9EzXYHT93EuBkuquC6ib2cJQWJy486EL"),d=Object(b.a)(j,2),m=d[0],f=d[1];Object(a.useEffect)((function(){Object(i.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(m);case 2:e=t.sent,console.log(e),c(e.data);case 5:case"end":return t.stop()}}),t)})))()}),[m]),Object(a.useEffect)((function(){console.log(m)}),[m]);var y;return n?Object(h.jsxs)("div",{className:_.a.radioView,children:[Object(h.jsxs)("div",{className:_.a.walletIdEntry,children:[Object(h.jsx)("input",{value:u,onChange:function(t){s(t.target.value)}}),Object(h.jsx)("button",{className:_.a.button_getObjktData,onClick:function(){f(u),s("")},children:"Get Tracks"})]}),Object(h.jsx)(P,{audioObjkts:(y=n.result,y.filter((function(t){return N.includes(t.token_info.formats[0].mimeType)})))})]}):Object(h.jsx)("div",{className:_.a.radioView,children:Object(h.jsx)("p",{children:"Loading..."})})};n(45);var z=function(){return Object(h.jsx)(M,{})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};u.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root")),L()},6:function(t,e,n){t.exports={radioView:"styles_radioView__TWlr-",walletIdEntry:"styles_walletIdEntry__3DbJd",button_getObjktData:"styles_button_getObjktData__3PaTK"}}},[[46,1,2]]]);
//# sourceMappingURL=main.c13215f1.chunk.js.map